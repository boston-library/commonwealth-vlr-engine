// add a class so the thumbnail is highlighted
$('#thumbnail_list').find('a').each(function() {
    if ($(this).hasClass('in_viewer')) {
        $(this).removeClass('in_viewer');
    }
    if ($(this).data('viewer') === '<%= @page_sequence[:current] %>') {
        $(this).addClass('in_viewer');
    }
});

// update the image pagination
$('#page_sequence').replaceWith("<%= escape_javascript(render :partial => 'catalog/_show_partials/show_multi_img_pagination',
                   :locals => {:page_sequence => @page_sequence}) %>");

// update the main image
$('#img_show_container').replaceWith("<%= escape_javascript(render :partial => 'catalog/_show_partials/show_default_img',
                   :locals => {:image_key => @page_sequence[:current_key], :document => @document, :page_sequence => @page_sequence}) %>");
