<%# use blacklight_modal: 'preserve' once https://github.com/projectblacklight/blacklight/issues/2331 resolved %>
<div id="ocr_search_form_wrapper">
  <%= form_tag ocr_search_path, method: :get, class: 'ocr-search-form',
               data: { blacklight_modal: 'trigger' } do %>
    <%= render_hash_as_hidden_fields(search_state.params_for_search(id: params[:id]).except('q', 'ocr_q',
                                                                                            'search_field', 'qt', 'page')) %>

    <div class="input-group">
      <label for="q_ocr" class="sr-only"><%= t('blacklight.ocr.search.form.q') %></label>
      <%= text_field_tag :ocr_q,
                         nil,
                         placeholder: t('blacklight.ocr.search.form.q'),
                         class: 'search_q q form-control',
                         id: 'ocr_q'%>
      <div class="input-group-append">
        <button type="submit" class="btn btn-primary search-btn" id="search">
          <span class="submit-search-text sr-only">
            <%= t('blacklight.search.form.submit') %>
          </span>
          <%= blacklight_icon :search, aria_hidden: true %>
        </button>
      </div>
    </div>
  <% end %>
</div>