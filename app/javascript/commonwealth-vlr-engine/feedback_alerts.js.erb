/* replaces help text, depending on value selected from 'message type' drop-down */
document.addEventListener("DOMContentLoaded", function() {
    let topic_dropdown = document.querySelector('#message_type_select');
    let help_text_div = document.querySelector('#contact_help_text');
    let topic_options = JSON.parse('<%= I18n.t('blacklight.feedback.form.topic.options').to_json.html_safe %>');
    let topic_options_keys = Object.keys(topic_options);
    topic_dropdown.addEventListener("change", function() {
        let selected_option = topic_dropdown.value;
        for (let i = 0; i < topic_options_keys.length; i++) {
            if (selected_option == topic_options[topic_options_keys[i]].option) {
                if (topic_options[topic_options_keys[i]].help_text != '') {
                    help_text_div.innerHTML = topic_options[topic_options_keys[i]].help_text;
                    help_text_div.style.display = "block";
                } else {
                    help_text_div.style.display = "none";
                }
            }
        }
    });
});
